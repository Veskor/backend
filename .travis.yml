language: python
python:
  - 2.7

install:
  - pip install -r requirements.txt
  - pip install coveralls
script:
  - cp project/settings/__init__.py.template project/settings/__init__.py
  - python manage.py collectstatic --noinput
  - coverage run manage.py test
after_success:
  coveralls

notifications:
  irc:
    channels:
      - "chat.freenode.net#one-love"
    on_success: change
    on_failure: always
    template:
      - "%{repository}/%{branch}/%{commit} - %{author} %{message} %{build_url}"
  email:
    on_success: change
    on_failure: always
